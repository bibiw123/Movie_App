@if(movie$ | async; as movie) {

<div class="container">

    <!-- Titre film et bouton "back"-->
    <div class="title-block">
        <button (click)="location.back()" id="left" class="arrow left-arrow">
            <i class="fas fa-arrow-left"></i>
        </button>
        <h1>{{movie.titre}}</h1>
    </div>

    <div class="row gy-4">
        <!-- BLOC GAUCHE: VIDEO -->
        <div class="col-12 col-lg-6">

            @if(authGateway.isAuth$ | async) {

            <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                <input type="radio" class="btn-check" id="btnradio1" autocomplete="off" checked>
                <label class="btn btn-outline-primary" for="btnradio1">A voir</label>

                <input type="radio" class="btn-check" id="btnradio2" autocomplete="off">
                <label class="btn btn-outline-primary" for="btnradio2">En cours</label>

                <input type="radio" class="btn-check" autocomplete="off">
                <label class="btn btn-outline-primary" for="btnradio3">Vu</label>
            </div>

            <!-- BOUTON "RETIRER A LA WATCHLIST" -->
            @if(userGateway.isMovieInWatchlist(movie)) {
            <button class="addtowatchlist" (click)="removeMovieToWatchListAction(movie)">
                Retirer de ma liste <i class="fa-solid fa-xmark"></i>
            </button>
            }
            @else{
            <!-- BOUTON "AJOUTER A LA WATCHLIST" -->
            <button (click)="addMovieToWatchListAction(movie)" class="addtowatchlist addtowatchlist-true">
                Ajouter Ã  ma liste <i class="fa-solid fa-plus"></i>
            </button>
            }


            }

            <!-- Si il y a une video -->
            @if(movie.video) {
            <ui-yt-player [videoKey]="movie.video"></ui-yt-player>
            <!-- Si il n'y a pas de video -->
            }@else {
            <div class="">
                <img [src]="getFullImageUrl(movie.image_landscape)" [alt]="movie.titre">
                <p>ðŸ˜’ Pas de vidÃ©os disponible</p>
            </div>
            }
        </div>

        <!-- BLOC DROITE: TEXTES-->
        <div class="col-12 col-lg-6">

            <p>
                <span><i class="fa-solid fa-circle"></i>Sortie {{movie.date | date:'MM-yyyy'}}</span>
                <span><i class="fa-solid fa-circle"></i>DurÃ©e {{movie.duration | printduration}}</span>
            </p>
            @for(genre of movie.genres; track genre.id ) {
            <span class="badge">
                {{genre.name}}
            </span>
            }

            <h2>RÃ©sumÃ©</h2>
            <p class="resume">{{movie.resume}}</p>

            <hr>
            <!-- FORMULAIRE DE COMMENTAIRE-->
            <h2>Avis</h2>
        </div>

    </div>
</div>
}